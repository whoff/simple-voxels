#summary definition of simple voxels
= Simple Voxels =
Consider a 3D shape composed of foreground voxels,
when the removal of a foreground voxel does not change the topology of the 3D shape, the voxel is called simple.
For example:
  * Sphere of radius 100 voxels: its surface voxels are all simple because their removal makes only a tiny dent on the surface and is never earth-shattering as to change the topology.
  * Line of 1-voxel width: its two end voxels are simple, but the internal voxels are not because their removal divides the line into two shorter lines.
  * Square plane of 1-voxel thickness: its border voxels are simple, but the internal voxels are not because their removal makes a hole in the plane.

= Definition =
The simplicity of a voxel can be defined locally within its 3x3x3 neighborhood [1-3].
For the (26, 6) connectivity, a voxel is simple if the following two conditions are satisfied:
  * the number of 26-adjacent foreground components in its 26-neighborhood is 1.
  * the number of 6-adjacent background components in its 18-neighborhood that appear in the 6-neighborhood is 1.
Note that in the above conditions the center voxel to be tested is excluded from the components.

== Implementation ==
The following functions defined in _Neighbors.cpp_ calculates the number of foreground / background components given a 3x3x3 configuration as a 32-bit integer _bits_:
{{{
namespace NComponent {
    int CountForeCompsN26( int bits );
    int CountBackCompsN6( int bits );
}
}}}
Note that these functions return zero when the center voxel is zero (white).

== Verification ==
The above functions were called with all the possible 2^27 = 134,217,728 configurations.
Then, the frequencies of each pair of the number of foreground and background components were counted:

[http://simple-voxels.googlecode.com/svn/wiki/images/cout-components-count.png]

The implementation is verified by the fact that this output reproduces the same component counts exactly as in
[http://www-sop.inria.fr/members/Gregoire.Malandain/topology/tables.html#BINARY3 3D binary topological numbers].

== Note ==
Because the functions return zero when the center voxel is white, the first (0,0) count is equal to the number of configurations where the center voxel is white.
In fact, if the center voxel is black, at least one of the functions returns non-zero value. The (0, 0) count therefore is equal to 2^26 = 67,108,864.

According to the above definition of simple voxels, the (1, 1) pair corresponds to the simple voxels.
Hence, there are 25,985,144 configurations out of 67,108,864, where the center (black) voxel is simple.

Please refer to [http://www-sop.inria.fr/members/Gregoire.Malandain/topology/tables.html#BINARY3 3D binary topological numbers] for the interpretation of other count pairs.